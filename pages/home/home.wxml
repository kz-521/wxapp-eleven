<view class="home-page">
  <!-- 顶部logo区域 -->
  <view style="margin:226rpx 0 40rpx 0;display:flex;justify-content:center;">
    <image src="/imgs/logo.png" style="width: 387rpx;height: 338rpx;"></image>
  </view>

  <!-- 登录区域 -->
  <view class="login-card">
    <!-- 未登录状态：显示登录信息 -->
    <view class="flexba" bindtap="goToLogin" wx:if="{{!isLogin}}">
      <view class="flexaifs">
        <image src="/imgs/home/login-banner.png" class="login-title-img"></image>
        <text class="login-desc">即刻加入我们，一起享受自然</text>
      </view>
      <image src="/imgs/right-icon.png" class="arrow-icon"></image>
    </view>
    
    <!-- 已登录状态：只显示去测测体质 -->
    <view class="test-card" bindtap="goToTest" wx:if="{{isLogin}}">
      <image src="/imgs/形状@2x.png" class="test-icon"></image>
      <text class="test-text">去测测体质</text>
      <image src="/imgs/编组 2@2x.png" class="refresh-icon"></image>
    </view>
    
    <!-- 未登录状态：显示去测测体质 -->
    <view class="test-card" bindtap="goToTest" wx:if="{{!isLogin}}">
      <image src="/imgs/形状@2x.png" class="test-icon"></image>
      <text class="test-text">去测测体质</text>
      <image src="/imgs/编组 2@2x.png" class="refresh-icon"></image>
    </view>
  </view>

  <!-- 快捷操作区域 -->
  <view class="action-section">
    <view class="action-item" bindtap="goToCart">
      <image src="/imgs/home/to-drink.png" class="action-icon"></image>
      <view class="flexda">
        <text class="action-subtitle">HAVE A DRINK</text>
        <image src="/imgs/home/to-drink-text.png" class="action-title-img"></image>
      </view>
    </view>
    <view class="action-item" bindtap="goToActivity">
      <image src="/imgs/home/activity-icon.png" class="action-icon"></image>
      <view class="flexda">
        <text class="action-subtitle">RECENT ACTIVITIES</text>
        <image src="/imgs/home/to-drink-text.png" class="action-title-img"></image>
      </view>
    </view>
  </view>

  <!-- 推荐茶饮区域 -->
  <view class="recommend-card">
    <view class="recommend-header">
      <text class="section-title">今日推荐茶饮</text>
      <text class="section-desc">来一杯自然的味道/适合木行体质的味道</text>
      <image src="/imgs/right-icon.png" class="arrow-icon"></image>
    </view>
    <scroll-view class="drink-scroll" scroll-x="{{true}}" show-scrollbar="{{false}}">
      <view class="drink-container">
        <view class="drink-card" wx:for="{{drinks}}" wx:key="id" bindtap="goToCart">
          <image src="{{item.image}}" class="drink-img" mode="aspectFill"></image>
          <view class="drink-content">
            <text class="drink-name">{{item.name}}</text>
            <text class="drink-price">¥{{item.price}}</text>
          </view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- 当前门店区域 -->
  <view class="store-card">
    <view class="store-header">
      <text class="section-title">当前门店</text>
      <image src="/imgs/home/location-icon.png" class="location-icon"></image>
      <text class="store-address">{{storeLocation.name}}</text>
      <text class="store-distance" wx:if="{{distance}}">{{distance}}</text>
      <text class="store-distance" wx:else>计算中...</text>
    </view>
    <image src="/imgs/home/store-image.png" class="store-img"></image>
  </view>
</view>